<!DOCTYPE html>
<html xmlns:th="http://thymeleaf.org" utf>

<head th:fragment="pagehead">
	<meta http-equiv="Content-Type" content="text/html" ; charset="UTF-8">
	<title>howhow學</title>
	<link href="https://vjs.zencdn.net/7.17.0/video-js.css" rel="stylesheet" />
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
	<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
		integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
		crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js"
		integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
		crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js"
		integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
		crossorigin="anonymous"></script>
	<meta http-equiv="content-type" content="text/html; charset=utf-8">


</head>

<th:block th:fragment="content">

	<div class="py-5">
		<div class="container">
			<div class="row">
				<div class="col-md-12">
					<div id="card-1">
						<div class="card-318641" id="app1">

							<div class="card-header">
								<a class="card-link collapsed" data-toggle="collapse" data-parent="#card-318641"
									href="#1D">Collapsible Group Item #1</a>
							</div>
							<div id="1D" class="collapse">

								<div class="card-body">
									Anim pariatur cliche...
								</div>
							</div>
						</div>
						<div class="card" v-for="item in items">
							<div class="card-header">
								<a class="card-link collapsed" data-toggle="collapse" data-parent="#card-318641"
									:href="'#card-element-'+item.sectionID">{{item.sectionID}} {{item.sectionTitle}}</a>
							</div>
							<div id="card-element-1" class="collapse">
								<div class="card-body border">
									單元內容
								</div>
								<div class="card-body border ">
									<div class="input-group">
										<input type="text" class="form-control" placeholder="章節編號" id="form2"><input
											type="text" class="form-control" placeholder="章節名稱" id="form2">
										<div class="input-group-append">
											<button class="btn btn-primary" type="button">
												新增單元<br>
											</button>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div class="py-5">
		<div class="container">
			<div class="row">
				<div class="ml-auto col-lg-7 text-center text-lg-left">
					<h1></h1>
					<p class="mb-0"></p>
				</div>
				<div class="col-lg-4 d-flex justify-content-center align-items-center p-3">
					<form class="form-inline mb-0">
						<div class="input-group" id="createSection">
							<input type="text" class="form-control" placeholder="章節編號" v-model="newSectionID"
								id="form2"><input type="text" class="form-control" placeholder="章節名稱"
								v-model="newSectionTitle" id="form2">
							<div class="input-group-append">
								<button class="btn btn-primary" type="button" @click="sendsectionmessage">
									新增章節<br>
								</button>
							</div>
						</div>
					</form>
				</div>
			</div>
		</div>
	</div>
	<div id="video">
		<video ref="videoPlayer" class="video-js" controls preload="auto" width="640" height="264"
			poster="MY_VIDEO_POSTER.jpg" data-setup="{}">
			<source src="MY_VIDEO.mp4" type="video/mp4" />
			<source src="MY_VIDEO.webm" type="video/webm" />
			<p class="vjs-no-js">
				To view this video please enable JavaScript, and consider upgrading to a
				web browser that
				<a href="https://videojs.com/html5-video-support/" target="_blank">supports HTML5 video</a>
			</p>
		</video>
	</div>
</th:block>
<script src="https://cdn.staticfile.org/axios/0.18.0/axios.min.js"></script>

<script type="importmap">

	{
	  "imports": {
		"vue": "https://unpkg.com/vue@3/dist/vue.esm-browser.js",
	   "video.js": "https://vjs.zencdn.net/7.17.0/video.min.js"
	  }
	}
</script>

<div id="app">{{ courseID }}</div>

<script type="module">
	import {createApp} from 'vue';
	import{videojs} from 'video.js';

	createApp({
		data() {
			return {
				courseID: 1,
				items: [
					{
						sectionID: 1,
						sectionTitle: "課程介紹"


					},
					{
						sectionID: 2,
						sectionTitle: "環境設定"


					},
					{
						sectionID: 3,
						sectionTitle: "謝謝大家"
					}
				],
				newSectionID: "",
				newSectionTitle: "",


			}
		}
	}).mount('#card-1')

	createApp({
		name: "VideoPlayer",
		props: {
			options: {
				type: Object,
				default() {
					return {};
				}
			}
		},
		data() {
			return {
				player: null
			}
		},
		mounted() {
			this.player = videojs(this.$refs.videoPlayer, this.options, function onPlayerReady() {
				console.log('onPlayerReady', this);
			})
		},
		beforeDestroy() {
			if (this.player) {
				this.player.dispose()
			}
		}
	}).mount('#video')

	createApp({
		data() {
			return {
				courseID: 1,
				newSectionID: "",
				newSectionTitle: "",
				info: ""
			}
		},
		methods: {
			sendsectionmessage() {
				axios
					.post('http://127.0.0.1:8080/howhow/api/testForign')
					.then(response => (this.info = response.data.sites))
					.catch(function (error) {
						console.log(error);
					});
			}
		},
	}).mount('#createSection')
</script>

</html>