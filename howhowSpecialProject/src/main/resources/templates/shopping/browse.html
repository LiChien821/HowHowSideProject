<!DOCTYPE html>
<html xmlns:th="http://thymeleaf.org">

<head>
<meta http-equiv="Content-Type" content="text/html" ; charset="UTF-8">
<title>howhow學</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
			integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
	integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
	crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js"
			integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB"
			crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js"
			integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13"
			crossorigin="anonymous"></script>

<script
	src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
	integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
	crossorigin="anonymous"></script>

<link rel="stylesheet" th:href="@{/shopping/css/font-awesome.min.css}">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

<link rel="stylesheet" th:href="@{/shopping/css/elegant-fonts.css}">
<link rel="stylesheet" th:href="@{/assets_wj/css/universal-navbar.css}"></link>
<link rel="stylesheet" th:href="@{/shopping/css/themify-icons.css}">
<link rel="stylesheet" th:href="@{/css/index.css}"></link>
<link rel="stylesheet" th:href="@{/shopping/css/swiper.min.css}">

<link rel="stylesheet" th:href="@{/shopping/style.css}">

<link rel="stylesheet" th:href="@{/assets_wj/css/universal-navbar.css}">

<link rel="stylesheet" th:href="@{/css/index.css}"/>

<link rel="stylesheet"
	href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css">

<link rel="stylesheet"
	th:href="@{https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css}">

</head>
<body>
	<script src="./js/header.js"></script>
	<div id="browse">
		<div
			style="width: 1500px; position: relative; margin: 0px auto; border: solid 1px;">
			<div class="row">
				<div class="col-2">
					<a href="#" @click.prevent="searchAll()">所有課程</a>
				</div>
				<div v-for="category in categories" class="col-1">
					<a href="#" @click.prevent="searchByCategory(category.id)">{{category.name}}</a>
				</div>
			</div>
			<div class="row">
				<div class="col-4" v-if="currentcategoryid==0">
					<input id="search" v-model="search" placeholder="尋找"
						@keyup.enter="goSearch(search)">
					<button class="px-25" @click="goSearch(search)">搜尋</button>
				</div>
				<div class="col-4" v-if="currentcategoryid!=0">
					{{currentcategoryname}} - {{currentcategorydescription}}</div>
			</div>

			<div class="row"
				style="position: absolute; left: 50%; transform: translate(-50%); border-color: red; width: 1200px;">
				<div class="col-12 col-lg-12">
					<div class="featured-courses courses-wrap">
						<div v-if="courses.empty==true">
							<div style="margin: 20px">目前查無搜尋結果</div>
						</div>
						<!--                             <div class="col-12 col-md-4 px-25" v-for="course in courses.content"> -->
						<!--                                 <div class="course-content"> -->
						<!--                                     <div v-if="course.coursestatusid==1"> -->
						<!--                                         <figure class="course-thumbnail"> -->
						<!--                                             <a href="#"><img :src="blobSetting+course.cover" alt=""></a> -->
						<!--                                         </figure>.course-thumbnail -->

						<!--                                         <div class="course-content-wrap"> -->

						<!--                                             <header class="entry-header"> -->
						<!--                                                 <h2 class="entry-title"><a :href="course.url">{{course.coursename}}</a> -->
						<!--                                                 </h2> -->
						<!--                                                 <div class="flex flex-wrap justify-content-between align-items-center"> -->
						<!--                                                     <div class="course-author"><a href="#">{{course.creatorname}}</a> -->
						<!--                                                     </div>.course-date -->
						<!--                                                     <div class="flex justify-content-end align-items-center"> -->
						<!--                                                         <div v-if="favstatus.includes(course.courseid)"><button class="btn btn-success shadow-none far fa-bookmark " style="color:white" @click="removeFavorite(course.courseid)"></button></div> -->
						<!--                                                         <div v-else><button class="btn btn-light shadow-none far fa-bookmark" style="color:green" @click="addFavorite(course.courseid)"></button></div> -->
						<!--                                                     </div> -->
						<!--                                                 </div> -->

						<!--                                             </header>.entry-header -->

						<!--                                             <footer -->
						<!--                                                 class="entry-footer flex flex-wrap justify-content-between align-items-center"> -->
						<!--                                                 <div class="course-cost" v-if="course.price>course.discountprice"> -->
						<!--                                                     NT${{course.discountprice}} <span -->
						<!--                                                         class="price-drop">{{course.price}}</span> -->
						<!--                                                 </div>.course-cost -->
						<!--                                                 <div class="course-cost" v-else> -->
						<!--                                                     NT${{course.price}} -->
						<!--                                                 </div>.course-cost -->
						<!--                                                 <div class="course-ratings flex justify-content-end align-items-center"> -->
						<!--                                                     <div v-if="course.ranknum>0"> -->
						<!--                                                         <span class="fas fa-star checked"></span> -->
						<!--                                                         <span v-if="course.rank>=2"class="fas fa-star checked"></span> -->
						<!--                                                         <span v-else-if="course.rank>=1.5" class="fas fa-star-half-alt checked"></span>  -->
						<!--                                                         <span v-else class="far fa-star checked"></span> -->
						<!--                                                         <span v-if="course.rank>=3"class="fas fa-star checked"></span> -->
						<!--                                                         <span v-else-if="course.rank>=2.5" class="fas fa-star-half-alt checked"></span> -->
						<!--                                                         <span v-else class="far fa-star checked"></span> -->
						<!--                                                         <span v-if="course.rank>=4" class="fas fa-star checked"></span> -->
						<!--                                                         <span v-else-if="course.rank>=3.5" class="fas fa-star-half-alt checked"></span> -->
						<!--                                                         <span v-else class="far fa-star checked"></span> -->
						<!--                                                         <span v-if="course.rank>=4.8" class="fas fa-star checked"></span> -->
						<!--                                                         <span v-else-if="course.rank>=4.3" class="fas fa-star-half-alt checked" ></span> -->
						<!--                                                         <span v-else class="far fa-star checked"></span> -->
						<!--                                                         <span class="course-ratings-count">{{course.ranknum}}則評價</span> -->
						<!--                                                     </div> -->
						<!--                                                 </div>.course-ratings -->
						<!--                                                 <div class="course-stunum" v-if="course.studentnum>=5"> -->
						<!--                                                     同學{{course.studentnum}}人 -->
						<!--                                                 </div>.course-cost -->
						<!--                                             </footer>.entry-footer -->
						<!--                                         </div>.course-content-wrap -->
						<!--                                     </div> -->
						<!--                                 </div>.course-content -->
						<!--                             </div>.col -->


						<div class="classes" style="display: inline"
							v-for="course in courses.content">
							<a class="classbox" v-if="course.coursestatusid==1"
								:href="course.url">
								<div class="top">
									<div class="classpicture"
										v-bind:style="{ backgroundImage:'url('+blobSetting+course.cover+ ')'}"></div>
									<div class="tag" v-if="ccf==true">募資中</div>
									<div class="tag" v-if="ccf==false">上課囉</div>
									<div class="bookbtn"
										style="color: white; background-color: #EB5E00;"
										v-if="favstatus.includes(course.courseid)">
										<i class="fa fa-bookmark"
											style="color: white; background-color: #EB5E00;"
											@click.prevent="removeFavorite(course.courseid)"></i>
									</div>
									<div class="bookbtn" v-else>
										<i class="fa fa-bookmark"
											@click.prevent="addFavorite(course.courseid)"></i>
									</div>
								</div>
								<div class="bottom">
									<h1 class="classtitle">{{course.coursename}}</h1>
									<div class="texts">
										<div class="pricerow">
											<div class="preprice" v-if="ccf==true">
												預購價<span class="orange">NT${{course.discountprice}}</span>
											</div>
											<div class="preprice" v-if="ccf==false">
												售價<span class="orange">NT${{course.discountprice}}</span>
											</div>
											<div class="lastday" v-if="ccf==true">
												剩<span class="orange">20天</span>
											</div>
											<div class="lastday" v-if="ccf==false && course.studentnum>0">
												同學<span class="orange">{{course.studentnum}}位</span>
											</div>
										</div>
										<div class="progressbar" v-if="ccf==true">
											<div class="valuebar"></div>
										</div>
										<div>
											<div
												class="course-ratings flex justify-content-start align-items-center">
												<div v-if="course.ranknum>0">
													<span class="fas fa-star checked"
														style="width: 12px; padding: 5px"></span> <span
														v-if="course.rank>=2" class="fas fa-star checked"
														style="width: 12px; padding: 5px"></span> <span
														v-else-if="course.rank>=1.5"
														class="fas fa-star-half-alt checked"
														style="width: 12px; padding: 5px"></span> <span v-else
														class="far fa-star checked"
														style="width: 12px; padding: 5px"></span> <span
														v-if="course.rank>=3" class="fas fa-star checked"
														style="width: 12px; padding: 5px"></span> <span
														v-else-if="course.rank>=2.5"
														class="fas fa-star-half-alt checked"
														style="width: 12px; padding: 5px"></span> <span v-else
														class="far fa-star checked"
														style="width: 12px; padding: 5px"></span> <span
														v-if="course.rank>=4" class="fas fa-star checked"
														style="width: 12px; padding: 5px"></span> <span
														v-else-if="course.rank>=3.5"
														class="fas fa-star-half-alt checked"
														style="width: 12px; padding: 5px"></span> <span v-else
														class="far fa-star checked"
														style="width: 12px; padding: 5px"></span> <span
														v-if="course.rank>=4.8" class="fas fa-star checked"
														style="width: 12px; padding: 5px"></span> <span
														v-else-if="course.rank>=4.3"
														class="fas fa-star-half-alt checked"
														style="width: 12px; padding: 5px"></span> <span v-else
														class="far fa-star checked"
														style="width: 12px; padding: 5px"></span> <span
														class="course-ratings-count" style="vertical-align: top;">{{course.ranknum}}則評價</span>
												</div>
												<div v-else>
													<span>暫無評價</span>
												</div>
											</div>
										</div>
										<div class="nowpeople" v-if="ccf==true">
											已募資<span class="orange">16/50人</span>
										</div>
										<div class="gopurchase" v-if="ccf==false">
											<input type="button" class="bt3" value="快去購買" />
										</div>
									</div>
									<div class="orangebar"></div>
								</div>
							</a>
						</div>
						<!-- .row -->
					</div>
					<!-- .featured-courses -->

					<div
						class="pagination flex flex-wrap justify-content-between align-items-center">
						<div class="col-12 col-lg-4 order-2 order-lg-1 mt-3 mt-lg-0">
							<ul
								class="flex flex-wrap align-items-center order-2 order-lg-1 p-0 m-0">
								<li class="page-item" :class="{'disabled':res.first}"><a
									class="page-link" href="#" @click.prevent=previousPage()><i
										class="fa fa-angle-left"></i></a></li>
								<li v-for="page in courses.totalPages" :key="page"
									:class="{'active':pageNo==page}"><a id="page" href="#"
									@click.prevent="changePage(page)">{{page}}</a></li>
								<li class="page-item" :class="{'disabled':res.last}"><a
									class="page-link" href="#" @click.prevent="nextPage()"><i
										class="fa fa-angle-right"></i></a></li>
							</ul>
						</div>

						<div
							class="col-12 flex justify-content-start justify-content-lg-end col-lg-8 order-1 order-lg-2">
							<div class="pagination-results flex flex-wrap align-items-center">
								<p class="m-0">Showing 1–3 of 12 results</p>

								<form>
									<select>
										<option>Show: 06</option>
										<option>Show: 12</option>
										<option>Show: 18</option>
										<option>Show: 24</option>
									</select>
								</form>
							</div>
							<!-- .pagination-results -->
						</div>
					</div>
					<!-- .pagination -->
				</div>
				<!-- .col -->
			</div>
			<!-- .row -->
		</div>
		<!-- .container -->
		<input id="pageNo" name="pageNo" hidden th:value="${pageNo}" /> <input
			id="userid" name="userid" hidden th:value="${userid}" /> <input
			id="searching" name="searching" hidden th:value="${searching}" />
	</div>
	</footer>
	<!-- .site-footer -->
	<script src="https://unpkg.com/vue@3"></script>
	
	<script src="https://cdn.staticfile.org/axios/0.18.0/axios.min.js"></script>

	<script type="importmap">

	{
  "imports": {
	"vue": "https://unpkg.com/vue@3/dist/vue.esm-browser.js",
	"vue-router": "https://cdnjs.cloudflare.com/ajax/libs/vue-router/4.0.0-alpha.12/vue-router.esm.js"
  }
}

</script>


	<script type="module" th:src="@{/js/browse.js}"></script>
	<script type="module" th:src="@{/assets_wj/js/universal-navbar.js}"></script>




</body>

</html>